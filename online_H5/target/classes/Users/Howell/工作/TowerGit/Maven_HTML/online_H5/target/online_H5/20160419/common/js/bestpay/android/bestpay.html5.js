define(function(){var w;var y={keyStr:"",keyInputId:"",initPwdId:function(A){y.keyStr="";y.keyInputId=A;$("#"+A).val("");$_id(A).onblur=function(){y.hideKeyboard()};$("#"+A).css("font-size","18px")},popPswKeyboard:function(){return r("PasswordKeyBoard","popPswKeyboard",null)},hideKeyboard:function(){return r("PasswordKeyBoard","hideKeyboard",null)},initPwdUI3:function(A){y.inputCallback=A},popKeyboardUI3:function(){return r("PasswordKeyBoard","showPwd",null)},hideKeyboardUI3:function(){return r("PasswordKeyBoard","hidPwd",null)},pswInputStr:function j(A){var C="";for(var B=0;B<y.keyStr.length;B++){if(B==y.keyStr.length-1&&A){clearTimeout(w);C+=y.keyStr.charAt(B);$("#"+y.keyInputId).val(C);w=setTimeout(function(){C=C.substring(0,C.length-1);C+="●";$("#"+y.keyInputId).val(C)},500)}else{C+="●"}}$("#"+y.keyInputId).val(C)},returnkey:function l(A){if(y.keyStr.length>12){return}y.inputCallback(A)},delBtn:function(A){var B=A.val();var C=A[0].parentNode.parentNode;if(C.children[1]=="undefined"||C.children[1]==undefined){return}C.children[1].onclick=function(){y.initPwdId(y.keyInputId);C.children[1].className=C.children[1].className.replace("_1","")};C.children[1].className="del_1";console.log("--------------"+C.children[1].className)},deleteKey:function k(){if(y.keyStr.length>12){y.keyStr=y.keyStr.substr(0,12)}y.keyStr=y.keyStr.substr(0,y.keyStr.length-1);y.pswInputStr(false)}};var x={pay:function(C,D,A){var B={params:C};return c("Payment","pay",JSON.stringify(B),D,A)},recharge:function(D,B,E,A){var C={productNo:D,location:B};return c("Payment","recharge",JSON.stringify(C),E,A)}};var v={scan:function(C,D,A){var B={params:C};return c("Scanner","scan",JSON.stringify(B),D,A)},handlerVerifyPhoto:function(B,C,A){return c("Scanner","handlerVerifyPhoto",JSON.stringify(B),C,A)},handlerPreviewPhoto:function(B,C,A){return r("Scanner","handlerPreviewPhoto",JSON.stringify(B),C,A)},bankOCR:function(B,A){return c("Scanner","bankOCR",JSON.stringify({}),B,A)}};var g={getProduct:function(){return r("User","getProduct",null)},getLocation:function(){return r("User","getLocation",null)},getSuccessLoginInfo:function(){return r("User","getSuccessLoginInfo",null)},login:function(A){return r("User","login",null)}};var t={exitCompleteApp:function(){r("App","exitCompleteApp",null)},setThresholdBtnIsVisable:function(A){var B={isvisable:A};r("App","setThresholdBtnIsVisable",JSON.stringify(B))},exitAppFromBandCard:function(B){var A={event:B};r("App","exitAppFromBandCard",JSON.stringify(A))},jumpToRecertify:function(){var A={comefrom:"tianyibao"};r("App","jumpToRecertify",JSON.stringify(A))},jumpToBindCard:function(){var A={comefrom:"tianyibao"};r("App","jumpToBindCard",JSON.stringify(A))},jumpToUnBindCard:function(){var A={comefrom:"tianyibao"};r("App","jumpToUnBindCard",JSON.stringify(A))},getAppId:function(){return r("App","getAppId",null)},jumpToNewH5View:function(A,C){var B={url:A};c("App","jumpToNewH5View",JSON.stringify(B),C)},jumpToNewTianyibao:function(){var A={};r("App","jumpToNewTianyibao",JSON.stringify(A))},updateTybRereshFlag:function(){var A={tybRefreshFlag:"1"};r("App","updateTybRereshFlag",JSON.stringify(A))},setFinishIcon:function(){var A={};r("App","setFinishIcon",JSON.stringify(A))},setFinishIconHidden:function(){var A={};r("App","setFinishIconHidden",JSON.stringify(A))},autoLogin:function(B){var A={productNo:"",location:""};c("App","autoLogin",JSON.stringify(A),B)},getSessionKey:function(){return r("App","getSessionKey",null)},getVersion:function(){return r("App","getVersion",null)},getHome:function(){return r("App","getHome",null)},getSecurityKey:function(){return r("App","getSecurityKey",null)},updateUserInfo:function(B){var A={bindCard:B};return r("App","updateUserInfo",JSON.stringify(A))},getDeviceInfo:function(){return r("App","getDeviceInfo",null)},overrideBackPressed:function(B){var A={bound:B};return r("App","overrideBackPressed",JSON.stringify(A))},exitApp:function(){return r("App","exitApp",null)},setKeyEventListener:function(A){t.listener=A},onKeyEvent:function(A){if(typeof t.listener=="function"){t.listener(A)}},setTitle:function(B){var A={title:B};r("App","setTitle",JSON.stringify(A))},setTitleBackgroundColor:function(A){var B={color:A};r("App","setTitleBackground",JSON.stringify(B))},setTitleBackgroundPath:function(B){var A={path:B};r("App","setTitleBackground",JSON.stringify(A))},getScreen:function(){return r("App","getScreen",null)},showRightButton:function(A,C){var B={caption:A,callback:C};r("App","showRightButton",JSON.stringify(B))},hideRightButton:function(){r("App","hideRightButton","{}")},jumpToRealnameVerify:function(){r("App","jumpToRealnameVerify","{}")},jumpToAccountRecharge:function(C,A,D){var B={productNo:C,location:A};c("App","jumpToAccountRecharge",JSON.stringify(B),D)},execWhenReturnAndAppear:function(B){var A={execWhenReturnAndAppearJSFunc:B};c("App","execWhenReturnAndAppear",A)},jumpToNativeView:function(D,B,E,A){if(typeof B=="undefined"){B={}}var C=B;C.viewName=D;c("App","jumpToNativeView",JSON.stringify(C),E,A)},jumpToMain:function(){console.log("---- js bridge jump to main");r("App","jumpToMain","{}")},startBangfutongActivity:function(C,F,D,E,A){var B={forwardUrl:C,orderNo:F,bankAcct:D};c("App","startBangfutongActivity",JSON.stringify(B),E,A)},verifyCodeEncrypt:function(B){var A={verifyCode:B};return r("App","verifyCodeEncrypt",JSON.stringify(A))},goBalanQuery:function(){var A={};return r("App","goBalanQuery",JSON.stringify(A))}};var b={base64Encode:function(A){if(typeof(A)=="undefined"||typeof(A)!="object"){return false}else{var C={};var B="";B=r("UtilPlugin","base64Encode",JSON.stringify(A));C=JSON.parse(B);return C}},base64Decode:function(A){if(typeof(A)=="undefined"||typeof(A)!="object"){return false}else{var C={};var B="";B=r("UtilPlugin","base64Decode",JSON.stringify(A));C=JSON.parse(B);return C}}};var p={put:function(C,D,B){console.log("put-key:"+C+" value:"+D+" prefname:"+B);var A={key:C,value:D,prefname:B};r("Preference","put",JSON.stringify(A))},get:function(C,D,B){console.log("get-key:"+C+" defValue:"+D+" prefname:"+B);var A={key:C,defValue:D,prefname:B};return r("Preference","get",JSON.stringify(A))},putWithApp:function(B,C,A){this.put(B,C,A)},getWithApp:function(B,C,A){return this.get(B,C,A)}};var z={execSQL:function(C,E,D){var B={dbName:C,sql:E,params:D};var A=r("Storage","exeSQL",JSON.stringify(B));return A},createDatabase:function(E,D,C,A){var B={dbName:E,createSQL:D,upgradSQL:C,version:A};return r("Storage","createDatabase",JSON.stringify(B))},batchInsert:function(A,D,C,E){var B={dbName:A,tableName:D,columns:C,data:E};return r("Storage","batchInsert",JSON.stringify(B))}};var i={getCardList:function(){return JSON.parse(r("CardList","queryAll",null))},getProCityDistric:function(B){var A={code:B};return JSON.parse(r("AreaManagerPlugin","getProCityDistricName",JSON.stringify(A)))},getActionCode:function(B,A){var C=null;if(A!=null){C=A}return JSON.parse(r("AreaManagerPlugin",B,C))}};var e={SERVICE:"File",copy:function(C,D){var B={path:C,newpath:D};var A=JSON.stringify(B);return r(e.SERVICE,"copy",A)},exists:function(C){var B={file_path:C};var A=JSON.stringify(B);return r(e.SERVICE,"exists",A)},remove:function(B){var A={path:B};return r(e.SERVICE,"remove",JSON.stringify(A))}};var q={};var h={showSingleChoiceDialog:function(E,D,C,B,F){var A={title:E,list:D,checkedItem:C,displayKey:B};return c("Dialog","showSingleChoiceDialog",JSON.stringify(A),F,null)},showSwitchDialog:function(E,D,C,A,F){var B={title:E,message:D,postext:C,negtext:A};return c("Dialog","showSwitchDialog",JSON.stringify(B),F,null)},showWaitDialog:function(C,B){var A={title:C,msg:B};return r("Dialog","showWaitDialog",JSON.stringify(A))},dismissDialog:function(B){var A={id:B};return r("Dialog","dismissDialog",JSON.stringify(A))},showProgressDialog:function(C,B){var A={title:C,msg:B};return r("Dialog","showProgressDialog",JSON.stringify(A))},alert:function(A){window.alert(A)},showAlertDialog:function(E,D,B,C,F){var A={title:E,code:C,content:D,btn:B};c("Dialog","showAlertDialog",JSON.stringify(A),F)},showAlertTwoBtnDialog:function(F,D,B,E,C,G){var A={title:F,code:C,content:D,okBtn:B,cancelBtn:E};c("Dialog","showAlertTwoBtnDialog",JSON.stringify(A),G)},jumpToAuthorityDialog:function(){return r("Dialog","jumpToAuthorityDialog",null)}};var s={LENGTH_LONG:1,LENGTH_SHORT:0,makeText:function(C,B){var A={text:C,duration:B};r("Toast","makeText",JSON.stringify(A))}};var d={openContacts:function(B,A){c("Contacts","openContacts","{}",B,A)},tel:function(A){var B={tel:A};return r("Contacts","call",JSON.stringify(B))}};var o={digest:function(A,C){var B={algorithm:A,source:C};return r("MessageDigest","digest",JSON.stringify(B))}};var f={getSign:function(A){return r("Security","getSign",JSON.stringify(A))},getSignINF:function(A){return r("Security","getSignINF",JSON.stringify(A))},encrypt:function(B){var A={source:B};return r("Security","encrypt",JSON.stringify(A))},decrypt:function(B){var A={encryptedData:B};return r("Security","decrypt",JSON.stringify(A))},pinkeyEncrypt:function(C,B){var A={source:C,salt:B};return r("Security","pinkeyEncrypt",JSON.stringify(A))},encryptPassword:function(C,D,B){var A={account:C,password:D,encrypRandNumber:B};return r("Security","encryptPassword",JSON.stringify(A))},verifySign:function(A){var B={response:'"'+JSON.stringify(A)+'"'};return r("Security","verifySign",JSON.stringify(B))}};var m={onEventWithLabel:function(C,B){var A={eventId:C,eventLabel:B};return r("TalkingData","trackEventWithLabel",JSON.stringify(A))}};var u=function(A,E,D,C,F,B){if(C){return r(A,E,D)}else{r(A,E,D,F,B)}};var a={idCounter:0,INPUT_CMDS:"",INPUT_ARGS:"",OUTPUT_RESULTS:"",CALLBACK_SUCCESS:function(A){console.log(A);return},CALLBACK_FAIL:function(A){console.log(A);return},callNative:function(D,A){this.INPUT_CMDS=D;this.INPUT_ARGS=A;var B="ID_"+(++this.idCounter);window.nintf.setCmds(this.getInputCmd(),B);window.nintf.setArgs(this.getInputArgs(),B);var C=document.createElement("IFRAME");C.setAttribute("src","bestpayhtml://ready?id="+B);document.documentElement.appendChild(C);C.parentNode.removeChild(C);C=null;console.log(2);console.log("return this.OUTPUT_RESULTS:"+this.OUTPUT_RESULTS);return this.OUTPUT_RESULTS},getInputCmd:function(){return JSON.stringify(this.INPUT_CMDS)},getInputArgs:function(){return this.INPUT_ARGS},callBackJs:function(A){this.OUTPUT_RESULTS=A;console.log(1);var D=JSON.parse(A);var C=D.message;console.log("message:"+C);var B=D.status;if(B==0){if(typeof this.CALLBACK_SUCCESS!="undefined"){setTimeout("BestpayHtml5.CALLBACK_SUCCESS('"+C+"')",0)}}else{if(typeof this.CALLBACK_FAIL!="undefined"){setTimeout("BestpayHtml5.CALLBACK_FAIL('"+C+"')",0)}}console.log("你先:("+(a.idCounter)+")"+A)}};var r=function(D,B,F){console.log("exec:"+D+"_"+B);var G={service:D,action:B};var A=prompt(JSON.stringify(G),F);var I;try{I=JSON.parse(A)}catch(E){console.error(E.message)}var C=I.status;var H=I.message;if(C==0){return H}else{console.error("service:"+D+" action:"+B+" error:"+H)}};var n;var c=function(B,F,D,G,C){console.log("exec_asyn:"+B+"_"+F);var E={service:B,action:F};if(typeof C!="success"){a.CALLBACK_SUCCESS=G}if(typeof C!="undefined"){a.CALLBACK_FAIL=C}else{a.CALLBACK_FAIL=function(){}}var A=a.callNative(E,D);console.log("我先:("+(a.idCounter)+")"+A)};return{Dialog:h,App:t,exec_asyn:c,exec:r,DB_Data:i,Preference:p,Contacts:d,User:g,Toast:s,BestpayHtml5:a,Storage:z,Security:f,PasswordKeyBoard:y,Scanner:v,TalkingData:m}});