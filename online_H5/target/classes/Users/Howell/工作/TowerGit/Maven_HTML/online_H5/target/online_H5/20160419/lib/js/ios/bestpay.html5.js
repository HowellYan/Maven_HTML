define(function(){var P="a";var A;var i={keyStr:"",keyInputId:"",initPwdId:function(aa,Z,Y){i.keyStr="";i.keyInputId=aa;i.maxLength=Y;i.inputCallback=Z;$("#"+aa).blur=function(){i.hideKeyboard()}},initPwdUI3:function(Y){i.inputCallback=Y},popPswKeyboard:function(){return o("PasswordKeyBoard","popPswKeyboard",null)},hideKeyboard:function(){return o("PasswordKeyBoard","hideKeyboard",null)},popKeyboardUI3:function(){return o("PasswordKeyBoard","showPwd",null)},hideKeyboardUI3:function(){if(!!config.payingBack){config.payingBack=false}return o("PasswordKeyBoard","hidPwd",null)},pswInputStr:function m(Y){var aa="";for(var Z=0;Z<i.keyStr.length;Z++){if(Z==i.keyStr.length-1&&Y){clearTimeout(A);aa+=i.keyStr.charAt(Z);$("#"+i.keyInputId).val(aa);A=setTimeout(function(){aa=aa.substring(0,aa.length-1);aa+="●";$("#"+i.keyInputId).val(aa)},500)}else{aa+="●"}}$("#"+i.keyInputId).val(aa)},returnkey:function D(Y){if(i.maxLength!=null&&i.keyStr.length>i.maxLength){return}i.inputCallback(Y)},deleteKey:function L(){i.keyStr=i.keyStr.substr(0,i.keyStr.length-1);i.pswInputStr(false)}};var E={keyNum:"",keyInputId:"",initPwdId:function(ad,ac,Z,Y,aa,ab){E.keyInputId=ad;$("#"+E.keyInputId).attr("readonly","readonly");E.keyNum=$("#"+E.keyInputId).val();E.inputCallback=ac;E.backspaceCallback=Z;E.maxLength=Y;E.isDefault=ab;E.closeDot=aa},InitnumKeyboard:function(){o("NumberKeyBoard","InitnumKeyboard",null);$("#"+E.keyInputId).focus()},HidenumKeyboard:function(){return o("NumberKeyBoard","HidenumKeyboard",null)},DefaultInputStr:function(Y){if(E.isDefault==null||E.isDefault==""||E.isDefault==true){$("#"+E.keyInputId).val(Y)}},returnNum:function Q(Y){console.log("returnNum:"+Y);E.keyNum+=(""+Y);E.DefaultInputStr(E.keyNum);if(E.inputCallback!=null&&E.inputCallback!=""){E.inputCallback(E.keyNum,Y)}console.log("len=="+$("#"+E.keyInputId).val().length);if(!!E.maxLength){E.keyNum=E.keyNum.substr(0,E.maxLength)}if(!!E.closeDot){E.keyNum=E.keyNum.replace(/\./g,"")}},deleteNum:function n(Y){console.log("deleteNum:");E.keyNum=E.keyNum.substr(0,E.keyNum.length-1);E.DefaultInputStr(E.keyNum);if(!!E.maxLength){E.keyNum=E.keyNum.substr(0,E.maxLength)}if(E.backspaceCallback!=null&&E.backspaceCallback!=""){E.backspaceCallback(E.keyNum,Y)}}};var d={pay:function(Z,aa,Y){return K("Payment","pay",Z,aa,Y)}};var a={scan:function(aa,ab,Y){var Z={params:aa};return K("Scanner","scan",JSON.stringify(Z),ab,Y)},handlerVerifyPhoto:function(Z,aa,Y){return K("Scanner","handlerVerifyPhoto",JSON.stringify(Z),aa,Y)},handlerPreviewPhoto:function(Z,aa,Y){return K("Scanner","handlerPreviewPhoto",JSON.stringify(Z),aa,Y)},getBarCode:function(Z,Y){return K("Device","getBarCode",JSON.stringify({}),Z,Y)}};var z={getProduct:function(){return o("User","getProduct",null)},getLocation:function(){return o("User","getLocation",null)},getSuccessLoginInfo:function(Y){return JSON.stringify(o("User","getSuccessLoginInfo",Y))},login:function(Y){return o("User","login",null)}};var O={updateUserInfo:function(Z){var Y={bindCard:Z};return o("App","updateUserInfo",JSON.stringify(Y))},exitCompleteApp:function(){o("App","exitCompleteApp",null)},jumpToRecertify:function(){var Y={comefrom:"tianyibao"};o("App","jumpToRecertify",JSON.stringify(Y))},jumpToBindCard:function(Y){var Z={comefrom:"tianyibao"};o("App","jumpToBindCard",JSON.stringify(Z),Y)},jumpToUnBindCard:function(){var Y={comefrom:"tianyibao"};o("App","jumpToUnBindCard",JSON.stringify(Y))},jumpToNewH5View:function(Y,aa){var Z={url:Y};K("App","jumpToNewH5View",JSON.stringify(Z),aa)},jumpToNewTianyibao:function(){var Y={};o("App","jumpToNewTianyibao",JSON.stringify(Y))},updateTybRereshFlag:function(){var Y={tybRefreshFlag:"1"};o("App","updateTybRereshFlag",JSON.stringify(Y))},setFinishIcon:function(){var Y={};o("App","setFinishIcon",JSON.stringify(Y))},jumpToCustomerService:function(){var Y={};o("App","jumpToCustomerService",JSON.stringify(Y))},setpopWindwonGone:function(){var Y={};o("App","setpopWindwonGone",JSON.stringify(Y))},setpopWindwonVisible:function(){var Y={};o("App","setpopWindwonVisible",JSON.stringify(Y))},getSecurityKey:function(){return o("App","getSecurityKey",null)},autoLogin:function(Z){var Y={productNo:"",location:""};K("App","autoLogin",JSON.stringify(Y),Z)},getSessionKey:function(){return o("App","getSessionKey",null)},setTitle:function(Z){var Y={title:Z};o("App","setTitle",JSON.stringify(Y))},getScreen:function(){return screen.width+"x"+screen.height},overrideBackPressed:function(Z){var Y={bound:Z};K("App","overrideBackPressed",JSON.stringify(Y))},exitApp:function(){return o("App","exitApp",null)},setKeyEventListener:function(Y){O.listener=Y},onKeyEvent:function(Y){if(typeof O.listener=="function"){O.listener(Y)}},jumpToRealnameVerify:function(){o("App","jumpToRealnameVerify","{}")},jumpToAccountRecharge:function(aa,Y){var Z={productNo:aa,location:Y};o("App","jumpToAccountRecharge",JSON.stringify(Z))},execWhenReturnAndAppear:function(Y){K("App","execWhenReturnAndAppear",Y)},jumpToNativeView:function(ab,Z,ac,Y){if(typeof Z=="undefined"){Z={}}var aa=Z;aa.viewName=ab;K("App","jumpToNativeView",JSON.stringify(aa),ac,Y)},getVersion:function(){var Y=o("App","getVersion",null);return Y},getDeviceInfo:function(){return JSON.stringify(o("App","getDeviceInfo",null))},queryBalance:function(){o("App","queryBalance","{}")},updateTybOpenStat:function(Y){o("App","updateTybOpenStat",Y)},jumpToMain:function(){console.log("---- js bridge jump to main");o("App","jumpToMain","{}")},goBalanQuery:function(){var Y={};return K("App","goBalanQuery",JSON.stringify(Y))}};var b={getCardList:function(){return o("CardList","queryAll",null)},getProCityDistric:function(Z){var Y={code:Z};return o("AreaManagerPlugin","getProCityDistricName",JSON.stringify(Y))},getActionCode:function(Z,Y){var aa=null;if(Y!=null){aa=Y}return o("AreaManagerPlugin",Z,aa)},getTrafficProvinces:function(){var Y=null;return o("TrafficAreaList","getTrafficProvinces",Y)},getTrafficCitiesByProvinceId:function(Y){var Z={code:Y};return o("TrafficAreaList","getTrafficCitiesByProvinceId",JSON.stringify(Z))}};var q={SERVICE:"File",copy:function(aa,ab){var Z={path:aa,newpath:ab};var Y=JSON.stringify(Z);return o(q.SERVICE,"copy",Y)},exists:function(aa){var Z={file_path:aa};var Y=JSON.stringify(Z);return o(q.SERVICE,"exists",Y)},remove:function(Z){var Y={path:Z};return o(q.SERVICE,"delete",JSON.stringify(Y))}};var v={showSingleChoiceDialog:function(ac,ab,aa,Z,ad){var Y={title:ac,list:ab,checkedItem:aa,displayKey:Z};return K("Dialog","showSingleChoiceDialog",JSON.stringify(Y),ad,null)},dismissDialog:function(Z){var Y={service:"showWaitDialog",action:"dismissDialog"};V.callNative(JSON.stringify(Y))},showProgressDialog:function(aa,Z){var Y={service:"showWaitDialog",action:"showProgressDialog"};V.callNative(JSON.stringify(Y),Z)},showDateChoiceDialog:function(Y,aa){var Z={date:Y};return K("Dialog","showDateChoiceDialog",JSON.stringify(Z),aa,null)},alert:function(Y){K("Dialog","alert",Y,function(){},function(){})},showAlertDialog:function(ac,ab,Z,aa,ad){dismissDialog();var Y={title:ac,code:aa,btn:Z};Y.content=ab;if(ab==null||ab=="null"||ab==""){Y.content="未知错误"}K("Dialog","showAlertDialog",JSON.stringify(Y),ad)},showAlertTwoBtnDialog:function(ad,ab,Z,ac,aa,ae){dismissDialog();var Y={title:ad,code:aa,content:ab,okBtn:Z,cancelBtn:ac};K("Dialog","showAlertTwoBtnDialog",JSON.stringify(Y),ae)},showAlertSynchroDialog:function(ac,aa,Z,ab,ad){dismissDialog();var Y={title:ac,content:aa,btn:Z,TRADE_LIST_QUERY_TYPE:ab,TRADE_LIST_QUERY_NUMBER:ad};K("Dialog","showAlertSynchroDialog",JSON.stringify(Y))},jumpToOrderQuery:function(ac,aa,Z,ab,ad){dismissDialog();var Y={title:ac,content:aa,btn:Z,TRADE_LIST_QUERY_TYPE:ab,TRADE_LIST_QUERY_NUMBER:ad};o("Dialog","jumpToOrderQuery",JSON.stringify(Y))},jumpToAuthorityDialog:function(){return o("Dialog","jumpToAuthorityDialog",null)}};var F={execSQL:function(aa,ac,ab){var Z={dbName:aa,sql:ac,params:ab};var Y=o("Storage","exeSQL",JSON.stringify(Z));return JSON.stringify(Y)},createDatabase:function(ac,ab,aa,Y){var Z={dbName:ac,createSQL:ab,upgradSQL:aa,version:Y};return o("Storage","createDatabase",JSON.stringify(Z))},batchInsert:function(Y,ab,aa,ac){var Z={dbName:Y,tableName:ab,columns:aa,data:ac};return o("Storage","batchInsert",JSON.stringify(Z))}};var H={LENGTH_LONG:1,LENGTH_SHORT:0,makeText:function(Y){K("Toast","makeText",Y,function(){},function(){})}};var S={openContacts:function(Z,Y){K("Contacts","openContacts","{}",Z,Y)},tel:function(Y){var Z={tel:Y};return o("Contacts","call",Z)}};var J={put:function(aa,ab,Z){var Y={key:aa,value:ab,prefname:Z};K("Preference","put",JSON.stringify(Y))},get:function(aa,ab,Z){var Y={key:aa,defValue:ab,prefname:Z};return o("Preference","get",JSON.stringify(Y))}};var t={digest:function(Y,Z){return N(Z)}};var u={getSign:function(Y){return o("Security","getSign",Y)},encrypt:function(Z){var Y={source:Z};return o("Security","encrypt",JSON.stringify(Y))},decrypt:function(Y){return Y},pinkeyEncrypt:function(aa,Z){var Y={source:aa,salt:Z};return o("Security","pinkeyEncrypt",JSON.stringify(Y))},encryptPassword:function(aa,ab,Z){var Y={account:aa,password:ab,encrypRandNumber:Z};return o("Security","encryptPassword",JSON.stringify(Y))},verifyCodeEncrypt:function(Z){var Y={verifyCode:Z};return o("App","verifyCodeEncrypt",JSON.stringify(Y))},verifySign:function(Y){var Z={response:Y};return o("Security","verifySign",JSON.stringify(Z))}};var U={onEventWithLabel:function(aa,Z){var Y={eventId:aa,eventLabel:Z};return o("TalkingData","trackEventWithLabel",JSON.stringify(Y))}};var k={base64Encode:function(Y){if(typeof(Y)=="undefined"||typeof(Y)!="object"){return false}else{var Z="";Z=o("UtilPlugin","base64Encode",JSON.stringify(Y));return Z}},base64Decode:function(Y){if(typeof(Y)=="undefined"||typeof(Y)!="object"){return false}else{var aa={};var Z="";Z=o("UtilPlugin","base64Decode",JSON.stringify(Y));return Z}}};var R=function(Y,ac,ab,aa,ad,Z){if(aa){return exec(Y,ac,ab)}else{exec(Y,ac,ab,ad,Z)}};var T=function(Y){alert(Y)};var V={idCounter:0,INPUT_CMDS:{},INPUT_ARGS:{},OUTPUT_RESULTS:{},CALLBACK_SUCCESS:{},CALLBACK_FAIL:{},callNative:function(ac,Z,ad,Y){var aa="ID_"+(++this.idCounter);P=aa;this.INPUT_CMDS[aa]=ac;this.INPUT_ARGS[aa]=JSON.stringify(Z);if(typeof ad!="undefined"){this.CALLBACK_SUCCESS[aa]=ad}if(typeof Y!="undefined"){this.CALLBACK_FAIL[aa]=Y}var ab=document.createElement("IFRAME");ab.setAttribute("src","bestpayhtml://ready?id="+aa);document.documentElement.appendChild(ab);ab.parentNode.removeChild(ab);ab=null;return this.OUTPUT_RESULTS[aa]},getInputCmd:function(Y){return JSON.stringify(this.INPUT_CMDS[Y])},getInputArgs:function(Y){return this.INPUT_ARGS[Y]},callBackJs:function(Y,aa){this.OUTPUT_RESULTS[aa]=Y;try{var ad=JSON.parse(Y);var ab=ad.message;var Z=ad.status;if(Z==0){if(typeof this.CALLBACK_SUCCESS[aa]!="undefined"){setTimeout("BestpayHtml5.CALLBACK_SUCCESS['"+aa+"']('"+ab+"')",0)}}else{if(typeof this.CALLBACK_FAIL[aa]!="undefined"){setTimeout("BestpayHtml5.CALLBACK_FAIL['"+aa+"']('"+ab+"')",0)}}}catch(ac){console.error(ac.message)}}};var K=function(Y,ac,aa,ad,Z){var ab={service:Y,action:ac};V.callNative(JSON.stringify(ab),aa,ad,Z)};var o=function(ab,Z,ad){var ae={service:ab,action:Z};var Y=V.callNative(JSON.stringify(ae),ad);var ag;try{ag=JSON.parse(Y);var aa=ag.status;var af=ag.message;return af}catch(ac){console.error(ac.message)}};var w=0;var C="";var G=8;function N(Y){return y(x(B(Y),Y.length*G))}function c(Y){return h(x(B(Y),Y.length*G))}function e(Y,Z){return y(X(Y,Z))}function l(Y,Z){return h(X(Y,Z))}function M(Y){return y(x(B(Y),Y.length*G))}function g(){return N("abc")=="900150983cd24fb0d6963f7d28e17f72"}function x(ai,ad){ai[ad>>5]|=128<<((ad)%32);ai[(((ad+64)>>>9)<<4)+14]=ad;var ah=1732584193;var ag=-271733879;var af=-1732584194;var ae=271733878;for(var aa=0;aa<ai.length;aa+=16){var ac=ah;var ab=ag;var Z=af;var Y=ae;ah=r(ah,ag,af,ae,ai[aa+0],7,-680876936);ae=r(ae,ah,ag,af,ai[aa+1],12,-389564586);af=r(af,ae,ah,ag,ai[aa+2],17,606105819);ag=r(ag,af,ae,ah,ai[aa+3],22,-1044525330);ah=r(ah,ag,af,ae,ai[aa+4],7,-176418897);ae=r(ae,ah,ag,af,ai[aa+5],12,1200080426);af=r(af,ae,ah,ag,ai[aa+6],17,-1473231341);ag=r(ag,af,ae,ah,ai[aa+7],22,-45705983);ah=r(ah,ag,af,ae,ai[aa+8],7,1770035416);ae=r(ae,ah,ag,af,ai[aa+9],12,-1958414417);af=r(af,ae,ah,ag,ai[aa+10],17,-42063);ag=r(ag,af,ae,ah,ai[aa+11],22,-1990404162);ah=r(ah,ag,af,ae,ai[aa+12],7,1804603682);ae=r(ae,ah,ag,af,ai[aa+13],12,-40341101);af=r(af,ae,ah,ag,ai[aa+14],17,-1502002290);ag=r(ag,af,ae,ah,ai[aa+15],22,1236535329);ah=W(ah,ag,af,ae,ai[aa+1],5,-165796510);ae=W(ae,ah,ag,af,ai[aa+6],9,-1069501632);af=W(af,ae,ah,ag,ai[aa+11],14,643717713);ag=W(ag,af,ae,ah,ai[aa+0],20,-373897302);ah=W(ah,ag,af,ae,ai[aa+5],5,-701558691);ae=W(ae,ah,ag,af,ai[aa+10],9,38016083);af=W(af,ae,ah,ag,ai[aa+15],14,-660478335);ag=W(ag,af,ae,ah,ai[aa+4],20,-405537848);ah=W(ah,ag,af,ae,ai[aa+9],5,568446438);ae=W(ae,ah,ag,af,ai[aa+14],9,-1019803690);af=W(af,ae,ah,ag,ai[aa+3],14,-187363961);ag=W(ag,af,ae,ah,ai[aa+8],20,1163531501);ah=W(ah,ag,af,ae,ai[aa+13],5,-1444681467);ae=W(ae,ah,ag,af,ai[aa+2],9,-51403784);af=W(af,ae,ah,ag,ai[aa+7],14,1735328473);ag=W(ag,af,ae,ah,ai[aa+12],20,-1926607734);ah=I(ah,ag,af,ae,ai[aa+5],4,-378558);ae=I(ae,ah,ag,af,ai[aa+8],11,-2022574463);af=I(af,ae,ah,ag,ai[aa+11],16,1839030562);ag=I(ag,af,ae,ah,ai[aa+14],23,-35309556);ah=I(ah,ag,af,ae,ai[aa+1],4,-1530992060);ae=I(ae,ah,ag,af,ai[aa+4],11,1272893353);af=I(af,ae,ah,ag,ai[aa+7],16,-155497632);ag=I(ag,af,ae,ah,ai[aa+10],23,-1094730640);ah=I(ah,ag,af,ae,ai[aa+13],4,681279174);ae=I(ae,ah,ag,af,ai[aa+0],11,-358537222);af=I(af,ae,ah,ag,ai[aa+3],16,-722521979);ag=I(ag,af,ae,ah,ai[aa+6],23,76029189);ah=I(ah,ag,af,ae,ai[aa+9],4,-640364487);ae=I(ae,ah,ag,af,ai[aa+12],11,-421815835);af=I(af,ae,ah,ag,ai[aa+15],16,530742520);ag=I(ag,af,ae,ah,ai[aa+2],23,-995338651);ah=p(ah,ag,af,ae,ai[aa+0],6,-198630844);ae=p(ae,ah,ag,af,ai[aa+7],10,1126891415);af=p(af,ae,ah,ag,ai[aa+14],15,-1416354905);ag=p(ag,af,ae,ah,ai[aa+5],21,-57434055);ah=p(ah,ag,af,ae,ai[aa+12],6,1700485571);ae=p(ae,ah,ag,af,ai[aa+3],10,-1894986606);af=p(af,ae,ah,ag,ai[aa+10],15,-1051523);ag=p(ag,af,ae,ah,ai[aa+1],21,-2054922799);ah=p(ah,ag,af,ae,ai[aa+8],6,1873313359);ae=p(ae,ah,ag,af,ai[aa+15],10,-30611744);af=p(af,ae,ah,ag,ai[aa+6],15,-1560198380);ag=p(ag,af,ae,ah,ai[aa+13],21,1309151649);ah=p(ah,ag,af,ae,ai[aa+4],6,-145523070);ae=p(ae,ah,ag,af,ai[aa+11],10,-1120210379);af=p(af,ae,ah,ag,ai[aa+2],15,718787259);ag=p(ag,af,ae,ah,ai[aa+9],21,-343485551);ah=s(ah,ac);ag=s(ag,ab);af=s(af,Z);ae=s(ae,Y)}return Array(ah,ag,af,ae)}function j(ad,aa,Z,Y,ac,ab){return s(f(s(s(aa,ad),s(Y,ab)),ac),Z)}function r(aa,Z,ae,ad,Y,ac,ab){return j((Z&ae)|((~Z)&ad),aa,Z,Y,ac,ab)}function W(aa,Z,ae,ad,Y,ac,ab){return j((Z&ad)|(ae&(~ad)),aa,Z,Y,ac,ab)}function I(aa,Z,ae,ad,Y,ac,ab){return j(Z^ae^ad,aa,Z,Y,ac,ab)}function p(aa,Z,ae,ad,Y,ac,ab){return j(ae^(Z|(~ad)),aa,Z,Y,ac,ab)}function X(aa,ad){var ac=B(aa);if(ac.length>16){ac=x(ac,aa.length*G)}var Y=Array(16),ab=Array(16);for(var Z=0;Z<16;Z++){Y[Z]=ac[Z]^909522486;ab[Z]=ac[Z]^1549556828}var ae=x(Y.concat(B(ad)),512+ad.length*G);return x(ab.concat(ae),512+128)}function s(Y,ab){var aa=(Y&65535)+(ab&65535);var Z=(Y>>16)+(ab>>16)+(aa>>16);return(Z<<16)|(aa&65535)}function f(Y,Z){return(Y<<Z)|(Y>>>(32-Z))}function B(ab){var aa=Array();var Y=(1<<G)-1;for(var Z=0;Z<ab.length*G;Z+=G){aa[Z>>5]|=(ab.charCodeAt(Z/G)&Y)<<(Z%32)}return aa}function y(aa){var Z=w?"0123456789ABCDEF":"0123456789abcdef";var ab="";for(var Y=0;Y<aa.length*4;Y++){ab+=Z.charAt((aa[Y>>2]>>((Y%4)*8+4))&15)+Z.charAt((aa[Y>>2]>>((Y%4)*8))&15)}return ab}function h(ab){var aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var ad="";for(var Z=0;Z<ab.length*4;Z+=3){var ac=(((ab[Z>>2]>>8*(Z%4))&255)<<16)|(((ab[Z+1>>2]>>8*((Z+1)%4))&255)<<8)|((ab[Z+2>>2]>>8*((Z+2)%4))&255);for(var Y=0;Y<4;Y++){if(Z*8+Y*6>ab.length*32){ad+=C}else{ad+=aa.charAt((ac>>6*(3-Y))&63)}}}return ad}return{Dialog:v,App:O,exec_syn:o,TalkingData:U,Preference:J,Contacts:S,User:z,Toast:H,DB_Data:b,BestpayHtml5:V,Storage:F,Security:u,testData:P,PasswordKeyBoard:i,NumberKeyBoard:E,Scanner:a}});