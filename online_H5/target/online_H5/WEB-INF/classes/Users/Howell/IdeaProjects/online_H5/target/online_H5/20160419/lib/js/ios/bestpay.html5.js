define(function(){var u="a";var f;var J={keyStr:"",keyInputId:"",initPwdId:function(Y,Z,aa){J.keyStr="";J.keyInputId=Y;J.maxLength=aa;J.inputCallback=Z;$("#"+Y).blur=function(){J.hideKeyboard()}},initPwdUI3:function(Y){J.inputCallback=Y},popPswKeyboard:function(){return P("PasswordKeyBoard","popPswKeyboard",null)},hideKeyboard:function(){return P("PasswordKeyBoard","hideKeyboard",null)},popKeyboardUI3:function(){return P("PasswordKeyBoard","showPwd",null)},hideKeyboardUI3:function(){if(!!config.payingBack){config.payingBack=false}return P("PasswordKeyBoard","hidPwd",null)},pswInputStr:function N(aa){var Y="";for(var Z=0;Z<J.keyStr.length;Z++){if(Z==J.keyStr.length-1&&aa){clearTimeout(f);Y+=J.keyStr.charAt(Z);$("#"+J.keyInputId).val(Y);f=setTimeout(function(){Y=Y.substring(0,Y.length-1);Y+="●";$("#"+J.keyInputId).val(Y)},500)}else{Y+="●"}}$("#"+J.keyInputId).val(Y)},returnkey:function i(Y){if(J.maxLength!=null&&J.keyStr.length>J.maxLength){return}J.inputCallback(Y)},deleteKey:function q(){J.keyStr=J.keyStr.substr(0,J.keyStr.length-1);J.pswInputStr(false)}};var j={keyNum:"",keyInputId:"",initPwdId:function(Z,Y,ab,aa,ac,ad){j.keyInputId=Z;$("#"+j.keyInputId).attr("readonly","readonly");j.keyNum=$("#"+j.keyInputId).val();j.inputCallback=Y;j.backspaceCallback=ab;j.maxLength=aa;j.isDefault=ad;j.closeDot=ac},InitnumKeyboard:function(){P("NumberKeyBoard","InitnumKeyboard",null);$("#"+j.keyInputId).focus()},HidenumKeyboard:function(){return P("NumberKeyBoard","HidenumKeyboard",null)},DefaultInputStr:function(Y){if(j.isDefault==null||j.isDefault==""||j.isDefault==true){$("#"+j.keyInputId).val(Y)}},returnNum:function v(Y){console.log("returnNum:"+Y);j.keyNum+=(""+Y);j.DefaultInputStr(j.keyNum);if(j.inputCallback!=null&&j.inputCallback!=""){j.inputCallback(j.keyNum,Y)}console.log("len=="+$("#"+j.keyInputId).val().length);if(!!j.maxLength){j.keyNum=j.keyNum.substr(0,j.maxLength)}if(!!j.closeDot){j.keyNum=j.keyNum.replace(/\./g,"")}},deleteNum:function O(Y){console.log("deleteNum:");j.keyNum=j.keyNum.substr(0,j.keyNum.length-1);j.DefaultInputStr(j.keyNum);if(!!j.maxLength){j.keyNum=j.keyNum.substr(0,j.maxLength)}if(j.backspaceCallback!=null&&j.backspaceCallback!=""){j.backspaceCallback(j.keyNum,Y)}}};var E={pay:function(Y,Z,aa){return p("Payment","pay",Y,Z,aa)}};var B={scan:function(ab,Z,aa){var Y={params:ab};return p("Scanner","scan",JSON.stringify(Y),Z,aa)},handlerVerifyPhoto:function(Y,Z,aa){return p("Scanner","handlerVerifyPhoto",JSON.stringify(Y),Z,aa)},handlerPreviewPhoto:function(Y,Z,aa){return p("Scanner","handlerPreviewPhoto",JSON.stringify(Y),Z,aa)},getBarCode:function(Z,Y){return p("Device","getBarCode",JSON.stringify({}),Z,Y)}};var e={getProduct:function(){return P("User","getProduct",null)},getLocation:function(){return P("User","getLocation",null)},getSuccessLoginInfo:function(Y){return JSON.stringify(P("User","getSuccessLoginInfo",Y))},login:function(Y){return P("User","login",null)}};var t={updateUserInfo:function(Z){var Y={bindCard:Z};return P("App","updateUserInfo",JSON.stringify(Y))},exitCompleteApp:function(){P("App","exitCompleteApp",null)},jumpToRecertify:function(){var Y={comefrom:"tianyibao"};P("App","jumpToRecertify",JSON.stringify(Y))},jumpToBindCard:function(Y){var Z={comefrom:"tianyibao"};P("App","jumpToBindCard",JSON.stringify(Z),Y)},jumpToUnBindCard:function(){var Y={comefrom:"tianyibao"};P("App","jumpToUnBindCard",JSON.stringify(Y))},jumpToNewH5View:function(aa,Y){var Z={url:aa};p("App","jumpToNewH5View",JSON.stringify(Z),Y)},jumpToNewTianyibao:function(){var Y={};P("App","jumpToNewTianyibao",JSON.stringify(Y))},updateTybRereshFlag:function(){var Y={tybRefreshFlag:"1"};P("App","updateTybRereshFlag",JSON.stringify(Y))},setFinishIcon:function(){var Y={};P("App","setFinishIcon",JSON.stringify(Y))},jumpToCustomerService:function(){var Y={};P("App","jumpToCustomerService",JSON.stringify(Y))},setpopWindwonGone:function(){var Y={};P("App","setpopWindwonGone",JSON.stringify(Y))},setpopWindwonVisible:function(){var Y={};P("App","setpopWindwonVisible",JSON.stringify(Y))},getSecurityKey:function(){return P("App","getSecurityKey",null)},autoLogin:function(Z){var Y={productNo:"",location:""};p("App","autoLogin",JSON.stringify(Y),Z)},getSessionKey:function(){return P("App","getSessionKey",null)},setTitle:function(Z){var Y={title:Z};P("App","setTitle",JSON.stringify(Y))},getScreen:function(){return screen.width+"x"+screen.height},overrideBackPressed:function(Z){var Y={bound:Z};p("App","overrideBackPressed",JSON.stringify(Y))},exitApp:function(){return P("App","exitApp",null)},setKeyEventListener:function(Y){t.listener=Y},onKeyEvent:function(Y){if(typeof t.listener=="function"){t.listener(Y)}},jumpToRealnameVerify:function(){P("App","jumpToRealnameVerify","{}")},jumpToAccountRecharge:function(Y,aa){var Z={productNo:Y,location:aa};P("App","jumpToAccountRecharge",JSON.stringify(Z))},execWhenReturnAndAppear:function(Y){p("App","execWhenReturnAndAppear",Y)},jumpToNativeView:function(Y,ab,Z,aa){if(typeof ab=="undefined"){ab={}}var ac=ab;ac.viewName=Y;p("App","jumpToNativeView",JSON.stringify(ac),Z,aa)},getVersion:function(){var Y=P("App","getVersion",null);return Y},getDeviceInfo:function(){return JSON.stringify(P("App","getDeviceInfo",null))},queryBalance:function(){P("App","queryBalance","{}")},updateTybOpenStat:function(Y){P("App","updateTybOpenStat",Y)},jumpToMain:function(){console.log("---- js bridge jump to main");P("App","jumpToMain","{}")},goBalanQuery:function(){var Y={};return p("App","goBalanQuery",JSON.stringify(Y))}};var C={getCardList:function(){return P("CardList","queryAll",null)},getProCityDistric:function(Z){var Y={code:Z};return P("AreaManagerPlugin","getProCityDistricName",JSON.stringify(Y))},getActionCode:function(Y,aa){var Z=null;if(aa!=null){Z=aa}return P("AreaManagerPlugin",Y,Z)},getTrafficProvinces:function(){var Y=null;return P("TrafficAreaList","getTrafficProvinces",Y)},getTrafficCitiesByProvinceId:function(Y){var Z={code:Y};return P("TrafficAreaList","getTrafficCitiesByProvinceId",JSON.stringify(Z))}};var R={SERVICE:"File",copy:function(ab,Z){var Y={path:ab,newpath:Z};var aa=JSON.stringify(Y);return P(R.SERVICE,"copy",aa)},exists:function(Y){var Z={file_path:Y};var aa=JSON.stringify(Z);return P(R.SERVICE,"exists",aa)},remove:function(Z){var Y={path:Z};return P(R.SERVICE,"delete",JSON.stringify(Y))}};var W={showSingleChoiceDialog:function(Y,ad,ab,ac,Z){var aa={title:Y,list:ad,checkedItem:ab,displayKey:ac};return p("Dialog","showSingleChoiceDialog",JSON.stringify(aa),Z,null)},dismissDialog:function(Z){var Y={service:"showWaitDialog",action:"dismissDialog"};A.callNative(JSON.stringify(Y))},showProgressDialog:function(Y,Z){var aa={service:"showWaitDialog",action:"showProgressDialog"};A.callNative(JSON.stringify(aa),Z)},showDateChoiceDialog:function(aa,Y){var Z={date:aa};return p("Dialog","showDateChoiceDialog",JSON.stringify(Z),Y,null)},alert:function(Y){p("Dialog","alert",Y,function(){},function(){})},showAlertDialog:function(Y,ad,ab,ac,Z){dismissDialog();var aa={title:Y,code:ac,btn:ab};aa.content=ad;if(ad==null||ad=="null"||ad==""){aa.content="未知错误"}p("Dialog","showAlertDialog",JSON.stringify(aa),Z)},showAlertTwoBtnDialog:function(Y,ad,ab,ae,ac,Z){dismissDialog();var aa={title:Y,code:ac,content:ad,okBtn:ab,cancelBtn:ae};p("Dialog","showAlertTwoBtnDialog",JSON.stringify(aa),Z)},showAlertSynchroDialog:function(Y,ab,ac,ad,Z){dismissDialog();var aa={title:Y,content:ab,btn:ac,TRADE_LIST_QUERY_TYPE:ad,TRADE_LIST_QUERY_NUMBER:Z};p("Dialog","showAlertSynchroDialog",JSON.stringify(aa))},jumpToOrderQuery:function(Y,ab,ac,ad,Z){dismissDialog();var aa={title:Y,content:ab,btn:ac,TRADE_LIST_QUERY_TYPE:ad,TRADE_LIST_QUERY_NUMBER:Z};P("Dialog","jumpToOrderQuery",JSON.stringify(aa))},jumpToAuthorityDialog:function(){return P("Dialog","jumpToAuthorityDialog",null)}};var k={execSQL:function(ab,Z,Y){var ac={dbName:ab,sql:Z,params:Y};var aa=P("Storage","exeSQL",JSON.stringify(ac));return JSON.stringify(aa)},createDatabase:function(Z,Y,ab,aa){var ac={dbName:Z,createSQL:Y,upgradSQL:ab,version:aa};return P("Storage","createDatabase",JSON.stringify(ac))},batchInsert:function(aa,Y,ab,Z){var ac={dbName:aa,tableName:Y,columns:ab,data:Z};return P("Storage","batchInsert",JSON.stringify(ac))}};var m={LENGTH_LONG:1,LENGTH_SHORT:0,makeText:function(Y){p("Toast","makeText",Y,function(){},function(){})}};var x={openContacts:function(Z,Y){p("Contacts","openContacts","{}",Z,Y)},tel:function(Y){var Z={tel:Y};return P("Contacts","call",Z)}};var o={put:function(ab,Z,Y){var aa={key:ab,value:Z,prefname:Y};p("Preference","put",JSON.stringify(aa))},get:function(ab,Z,Y){var aa={key:ab,defValue:Z,prefname:Y};return P("Preference","get",JSON.stringify(aa))}};var U={digest:function(Y,Z){return s(Z)}};var V={getSign:function(Y){return P("Security","getSign",Y)},encrypt:function(Z){var Y={source:Z};return P("Security","encrypt",JSON.stringify(Y))},decrypt:function(Y){return Y},pinkeyEncrypt:function(Y,Z){var aa={source:Y,salt:Z};return P("Security","pinkeyEncrypt",JSON.stringify(aa))},encryptPassword:function(ab,Z,Y){var aa={account:ab,password:Z,encrypRandNumber:Y};return P("Security","encryptPassword",JSON.stringify(aa))},verifyCodeEncrypt:function(Z){var Y={verifyCode:Z};return P("App","verifyCodeEncrypt",JSON.stringify(Y))},verifySign:function(Y){var Z={response:Y};return P("Security","verifySign",JSON.stringify(Z))}};var z={onEventWithLabel:function(Y,Z){var aa={eventId:Y,eventLabel:Z};return P("TalkingData","trackEventWithLabel",JSON.stringify(aa))}};var L={base64Encode:function(Y){if(typeof(Y)=="undefined"||typeof(Y)!="object"){return false}else{var Z="";Z=P("UtilPlugin","base64Encode",JSON.stringify(Y));return Z}},base64Decode:function(aa){if(typeof(aa)=="undefined"||typeof(aa)!="object"){return false}else{var Y={};var Z="";Z=P("UtilPlugin","base64Decode",JSON.stringify(aa));return Z}}};var w=function(aa,Y,ad,ab,Z,ac){if(ab){return exec(aa,Y,ad)}else{exec(aa,Y,ad,Z,ac)}};var y=function(Y){alert(Y)};var A={idCounter:0,INPUT_CMDS:{},INPUT_ARGS:{},OUTPUT_RESULTS:{},CALLBACK_SUCCESS:{},CALLBACK_FAIL:{},callNative:function(Y,ab,Z,aa){var ac="ID_"+(++this.idCounter);u=ac;this.INPUT_CMDS[ac]=Y;this.INPUT_ARGS[ac]=JSON.stringify(ab);if(typeof Z!="undefined"){this.CALLBACK_SUCCESS[ac]=Z}if(typeof aa!="undefined"){this.CALLBACK_FAIL[ac]=aa}var ad=document.createElement("IFRAME");ad.setAttribute("src","bestpayhtml://ready?id="+ac);document.documentElement.appendChild(ad);ad.parentNode.removeChild(ad);ad=null;return this.OUTPUT_RESULTS[ac]},getInputCmd:function(Y){return JSON.stringify(this.INPUT_CMDS[Y])},getInputArgs:function(Y){return this.INPUT_ARGS[Y]},callBackJs:function(aa,ab){this.OUTPUT_RESULTS[ab]=aa;try{var Z=JSON.parse(aa);var ad=Z.message;var ac=Z.status;if(ac==0){if(typeof this.CALLBACK_SUCCESS[ab]!="undefined"){setTimeout("BestpayHtml5.CALLBACK_SUCCESS['"+ab+"']('"+ad+"')",0)}}else{if(typeof this.CALLBACK_FAIL[ab]!="undefined"){setTimeout("BestpayHtml5.CALLBACK_FAIL['"+ab+"']('"+ad+"')",0)}}}catch(Y){console.error(Y.message)}}};var p=function(aa,Y,ab,Z,ac){var ad={service:aa,action:Y};A.callNative(JSON.stringify(ad),ab,Z,ac)};var P=function(Y,af,aa){var ab={service:Y,action:af};var ae=A.callNative(JSON.stringify(ab),aa);var ad;try{ad=JSON.parse(ae);var ag=ad.status;var ac=ad.message;return ac}catch(Z){console.error(Z.message)}};var X=0;var h="";var l=8;function s(Y){return d(c(g(Y),Y.length*l))}function D(Y){return I(c(g(Y),Y.length*l))}function F(Y,Z){return d(b(Y,Z))}function M(Y,Z){return I(b(Y,Z))}function r(Y){return d(c(g(Y),Y.length*l))}function H(){return s("abc")=="900150983cd24fb0d6963f7d28e17f72"}function c(af,aa){af[aa>>5]|=128<<((aa)%32);af[(((aa+64)>>>9)<<4)+14]=aa;var ae=1732584193;var ad=-271733879;var ac=-1732584194;var ab=271733878;for(var ai=0;ai<af.length;ai+=16){var Z=ae;var Y=ad;var ah=ac;var ag=ab;ae=S(ae,ad,ac,ab,af[ai+0],7,-680876936);ab=S(ab,ae,ad,ac,af[ai+1],12,-389564586);ac=S(ac,ab,ae,ad,af[ai+2],17,606105819);ad=S(ad,ac,ab,ae,af[ai+3],22,-1044525330);ae=S(ae,ad,ac,ab,af[ai+4],7,-176418897);ab=S(ab,ae,ad,ac,af[ai+5],12,1200080426);ac=S(ac,ab,ae,ad,af[ai+6],17,-1473231341);ad=S(ad,ac,ab,ae,af[ai+7],22,-45705983);ae=S(ae,ad,ac,ab,af[ai+8],7,1770035416);ab=S(ab,ae,ad,ac,af[ai+9],12,-1958414417);ac=S(ac,ab,ae,ad,af[ai+10],17,-42063);ad=S(ad,ac,ab,ae,af[ai+11],22,-1990404162);ae=S(ae,ad,ac,ab,af[ai+12],7,1804603682);ab=S(ab,ae,ad,ac,af[ai+13],12,-40341101);ac=S(ac,ab,ae,ad,af[ai+14],17,-1502002290);ad=S(ad,ac,ab,ae,af[ai+15],22,1236535329);ae=a(ae,ad,ac,ab,af[ai+1],5,-165796510);ab=a(ab,ae,ad,ac,af[ai+6],9,-1069501632);ac=a(ac,ab,ae,ad,af[ai+11],14,643717713);ad=a(ad,ac,ab,ae,af[ai+0],20,-373897302);ae=a(ae,ad,ac,ab,af[ai+5],5,-701558691);ab=a(ab,ae,ad,ac,af[ai+10],9,38016083);ac=a(ac,ab,ae,ad,af[ai+15],14,-660478335);ad=a(ad,ac,ab,ae,af[ai+4],20,-405537848);ae=a(ae,ad,ac,ab,af[ai+9],5,568446438);ab=a(ab,ae,ad,ac,af[ai+14],9,-1019803690);ac=a(ac,ab,ae,ad,af[ai+3],14,-187363961);ad=a(ad,ac,ab,ae,af[ai+8],20,1163531501);ae=a(ae,ad,ac,ab,af[ai+13],5,-1444681467);ab=a(ab,ae,ad,ac,af[ai+2],9,-51403784);ac=a(ac,ab,ae,ad,af[ai+7],14,1735328473);ad=a(ad,ac,ab,ae,af[ai+12],20,-1926607734);ae=n(ae,ad,ac,ab,af[ai+5],4,-378558);ab=n(ab,ae,ad,ac,af[ai+8],11,-2022574463);ac=n(ac,ab,ae,ad,af[ai+11],16,1839030562);ad=n(ad,ac,ab,ae,af[ai+14],23,-35309556);ae=n(ae,ad,ac,ab,af[ai+1],4,-1530992060);ab=n(ab,ae,ad,ac,af[ai+4],11,1272893353);ac=n(ac,ab,ae,ad,af[ai+7],16,-155497632);ad=n(ad,ac,ab,ae,af[ai+10],23,-1094730640);ae=n(ae,ad,ac,ab,af[ai+13],4,681279174);ab=n(ab,ae,ad,ac,af[ai+0],11,-358537222);ac=n(ac,ab,ae,ad,af[ai+3],16,-722521979);ad=n(ad,ac,ab,ae,af[ai+6],23,76029189);ae=n(ae,ad,ac,ab,af[ai+9],4,-640364487);ab=n(ab,ae,ad,ac,af[ai+12],11,-421815835);ac=n(ac,ab,ae,ad,af[ai+15],16,530742520);ad=n(ad,ac,ab,ae,af[ai+2],23,-995338651);ae=Q(ae,ad,ac,ab,af[ai+0],6,-198630844);ab=Q(ab,ae,ad,ac,af[ai+7],10,1126891415);ac=Q(ac,ab,ae,ad,af[ai+14],15,-1416354905);ad=Q(ad,ac,ab,ae,af[ai+5],21,-57434055);ae=Q(ae,ad,ac,ab,af[ai+12],6,1700485571);ab=Q(ab,ae,ad,ac,af[ai+3],10,-1894986606);ac=Q(ac,ab,ae,ad,af[ai+10],15,-1051523);ad=Q(ad,ac,ab,ae,af[ai+1],21,-2054922799);ae=Q(ae,ad,ac,ab,af[ai+8],6,1873313359);ab=Q(ab,ae,ad,ac,af[ai+15],10,-30611744);ac=Q(ac,ab,ae,ad,af[ai+6],15,-1560198380);ad=Q(ad,ac,ab,ae,af[ai+13],21,1309151649);ae=Q(ae,ad,ac,ab,af[ai+4],6,-145523070);ab=Q(ab,ae,ad,ac,af[ai+11],10,-1120210379);ac=Q(ac,ab,ae,ad,af[ai+2],15,718787259);ad=Q(ad,ac,ab,ae,af[ai+9],21,-343485551);ae=T(ae,Z);ad=T(ad,Y);ac=T(ac,ah);ab=T(ab,ag)}return Array(ae,ad,ac,ab)}function K(Z,ab,ac,aa,Y,ad){return T(G(T(T(ab,Z),T(aa,ad)),Y),ac)}function S(ab,ac,Z,Y,aa,ae,ad){return K((ac&Z)|((~ac)&Y),ab,ac,aa,ae,ad)}function a(ab,ac,Z,Y,aa,ae,ad){return K((ac&Y)|(Z&(~Y)),ab,ac,aa,ae,ad)}function n(ab,ac,Z,Y,aa,ae,ad){return K(ac^Z^Y,ab,ac,aa,ae,ad)}function Q(ab,ac,Z,Y,aa,ae,ad){return K(Z^(ac|(~Y)),ab,ac,aa,ae,ad)}function b(ab,Y){var ae=g(ab);if(ae.length>16){ae=c(ae,ab.length*l)}var aa=Array(16),ad=Array(16);for(var ac=0;ac<16;ac++){aa[ac]=ae[ac]^909522486;ad[ac]=ae[ac]^1549556828}var Z=c(aa.concat(g(Y)),512+Y.length*l);return c(ad.concat(Z),512+128)}function T(aa,Z){var ab=(aa&65535)+(Z&65535);var Y=(aa>>16)+(Z>>16)+(ab>>16);return(Y<<16)|(ab&65535)}function G(Y,Z){return(Y<<Z)|(Y>>>(32-Z))}function g(Z){var ab=Array();var aa=(1<<l)-1;for(var Y=0;Y<Z.length*l;Y+=l){ab[Y>>5]|=(Z.charCodeAt(Y/l)&aa)<<(Y%32)}return ab}function d(ab){var Y=X?"0123456789ABCDEF":"0123456789abcdef";var Z="";for(var aa=0;aa<ab.length*4;aa++){Z+=Y.charAt((ab[aa>>2]>>((aa%4)*8+4))&15)+Y.charAt((ab[aa>>2]>>((aa%4)*8))&15)}return Z}function I(ad){var ab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var Z="";for(var ac=0;ac<ad.length*4;ac+=3){var Y=(((ad[ac>>2]>>8*(ac%4))&255)<<16)|(((ad[ac+1>>2]>>8*((ac+1)%4))&255)<<8)|((ad[ac+2>>2]>>8*((ac+2)%4))&255);for(var aa=0;aa<4;aa++){if(ac*8+aa*6>ad.length*32){Z+=h}else{Z+=ab.charAt((Y>>6*(3-aa))&63)}}}return Z}return{Dialog:W,App:t,exec_syn:P,TalkingData:z,Preference:o,Contacts:x,User:e,Toast:m,DB_Data:C,BestpayHtml5:A,Storage:k,Security:V,testData:u,PasswordKeyBoard:J,NumberKeyBoard:j,Scanner:B}});