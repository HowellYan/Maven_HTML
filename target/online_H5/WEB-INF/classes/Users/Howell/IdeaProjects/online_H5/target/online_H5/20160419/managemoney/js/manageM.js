define(["jquery","bestpay.ui","bestpay.lang","bestpay.http","jtemplates"],function(e,b,f,h,g){var i=null;function c(j){return document.getElementById(j)}function a(){var l=new Date();var j=l.getFullYear();var k=l.getMonth()+1;var n=l.getDate()+1;k=k<10?"0"+k:k;n=n<10?"0"+n:n;var o=l.getDay()+1;var p=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];o=p[o];var m=j+"-"+k+"-"+n+"("+o+")";return(m)}function d(){i=this;this.userInfo=JSON.parse(Bestpay.User.getSuccessLoginInfo());console.log("userInfo=="+JSON.stringify(userInfo));this.selectType=null;this.applyatoneGet=null;this.zhuanruApplybuy="1";this.zhuangchuatonefor="1";this.questionandinformation="1";this.kaihuPassword=null;this.orderPageJson={};this.agreement=false;this.config_togo=true;this.currentPage=1;this.shouyitwo="0";this.shouzhifour="0";this.kaohu_zhuangru_immediately="0";this.Automaticgreement=false}d.prototype.initApp=function(){var l=this;config.man.manageM=this;config.TRADE_LIST_QUERY_TYPE=config.BUS_TYPE.BUS_TYPE_TIANYIBAO;config.startPage=function(n,o){if(o=="goto"){if(n.id=="page_main_first"){console.log("显示CCCC");App.setpopWindwonVisible()}else{console.log("不显示CCCC");App.setpopWindwonGone()}}else{if(o=="back"){if(pageStack.length>=2&&pageStack[pageStack.length-2].id!=null&&pageStack[pageStack.length-2].id!=""&&pageStack[pageStack.length-2].id=="page_main_first"){console.log("back显示CCCC");App.setpopWindwonVisible()}}}};config.otherEvent=function(n){if(n=="status"){if(config.page.id_shouzhifour_show.prompt_show_back==false){back()}if(pageStack[pageStack.length-1].id!="page_service_center"){config.man.manageMOpenAnAccount.anountcementisBack=0;config.man.otherInterfaces.financialProblemQuery()}}else{if(n=="status_newtianyibao"){console.log("status_newtianyibaoABC");config.man.manageMOpenAnAccount.RefreshaccountInformationInterface()}else{if(n=="balanceAutomaticallyTransferred"){console.log("isBack = accountAutomaticTurnIn");config.man.manageMOpenAnAccount.accountAutomaticTurnIn()}else{if(n=="transactionQuery"){console.log("isBack = transactionQuery");config.man.otherInterfaces.financialRevenueAndExpenditureinterface()}else{if(n=="questionAndHelp"){console.log("isBack = questionAndHelp");if(config.page.id_shouzhifour_show.prompt_show_back==false){back()}if(pageStack[pageStack.length-1].id!="page_service_center"){config.man.manageMOpenAnAccount.anountcementisBack=0;config.man.otherInterfaces.financialProblemQuery()}}}}}}};config.isBack=function(){Bestpay.App.jumpToMain()};l.recomand=new b.InputText("recomand",null);l.zhuanru_money_text=new b.InputText("zhuanru_money_text","number",null,function(){config.man.otherInterfaces.zhuanru_money_text_val="";e("#jy_btn_show").addClass("cont_btn_gray").removeClass("cont_btn_blue");i.textT(".bank_span","")},2);l.zhuanchu_money_text=new b.InputText("zhuanchu_money_text","number",null,function(){config.man.otherInterfaces.zhuanchu_money_text_val="";e("#jf_btn_show").addClass("cont_btn_gray").removeClass("cont_btn_blue");i.textT(".bank_span","")},2);l.remindAcount_text=new b.InputText("remindAcount_text","number",null,function(){config.man.manageMOpenAnAccount.remindAcount_text_val="";i.textT(".bank_span","")},2);var k=function(n){l.zhuanruApplybuy=n;l.zhuanru_money_text.clearValue();config.man.otherInterfaces.zhuanru_money_text_val="";e("#jy_btn_show").addClass("cont_btn_gray").removeClass("cont_btn_blue");l.textT(".bank_span","");config.man.otherInterfaces.comparefour();if(l.zhuanruApplybuy*1==1){e("#help_cont_ZU1").show();e("#help_cont_ZU2").hide();l.bindCardZhuanru()}else{e("#help_cont_ZU1").hide();e("#help_cont_ZU2").show();e("#jy_btn_show").show();e("#input-wrap_zru_wrap").show();e("#rumaxAmount").show();config.man.otherInterfaces.WorkDayAndWorkWeekShow();e("#zhuanruWorkDayAndWorkWeek").show()}};var m=function(n){l.zhuangchuatonefor=n;l.zhuanchu_money_text.clearValue();config.man.otherInterfaces.zhuanchu_money_text_val="";e("#jf_btn_show").addClass("cont_btn_gray").removeClass("cont_btn_blue");l.textT(".bank_span","");config.man.otherInterfaces.compareZhuangCHU();if(l.zhuangchuatonefor*1==1){e("#help_cont_CHU1").show();e("#help_cont_CHU2").hide();l.bindCardZhuanchu()}else{e("#help_cont_CHU1").hide();e("#help_cont_CHU2").show();e("#input-wrap_zchu_wrap").show();e("#jf_btn_show").show();e("#chumaxAmount").show();e(".rmaxbank_span").show();e("#zhuanchuPayPassword").show();e("#shuhui_tips").html("即时到账")}};l.selectType=new b.BlockRadioGroup("brg_amount","item10",k);l.selectType_chu=new b.BlockRadioGroup("brg_amount_chu","item10_chu",m);var j=function(n){l.questionandinformation=n;if(l.questionandinformation*1==1){e("#changjian_question").show();e("#gongkao_information").hide();if(l.config_togo==true){config.isBack=function(){console.log(l.questionandinformation+"111===questionandinformation");console.log(l.config_togo+"111====config_togo");e("#id_optionsBoxLeft").show();e("#id_optionsBoxRight").hide();e("#brg_amount_question").show()}}}else{e("#changjian_question").hide();console.log(config.man.manageMOpenAnAccount.nullgonggao+"config.man.manageMOpenAnAccount.nullgonggao");if(config.man.manageMOpenAnAccount.nullgonggao==1){e("#gongkao_information").show()}else{e("#gongkao_information").hide()}config.isBack=function(){if(l.config_togo==true){console.log(l.questionandinformation+"222===questionandinformation");console.log(l.config_togo+"222====config_togo");back();e("#id_optionsBoxLeft").show();e("#id_optionsBoxRight").hide();e("#brg_amount_question").show()}else{back()}}}};l.selectType_question=new b.BlockRadioGroup("brg_amount_question","item10_question",j);l.btnInit();require(["manageMOpenAnAccount","otherInterfaces"],function(o,n){config.man.manageMOpenAnAccount=new o();config.man.otherInterfaces=new n();config.man.manageMOpenAnAccount.authenStatusA02()})};d.prototype.textT=function(k,j){e(k).html(j)};d.prototype.btnInit=function(){var k=this;e("#refreshxxx").on("click",function(){location.reload()});e("#agreement").on("click",function(){e("#agreement").toggleClass("c_sub_bg_current");e(".cont_A").toggleClass("hide");e(".cont_B").toggleClass("show");if(e("#agreement").is(".c_sub_bg_current")){k.agreement="1"}else{k.agreement="0"}});e("#Automaticgreement").on("click",function(){e("#Automaticgreement").toggleClass("Automatic_c_sub_bg_current");if(e("#Automaticgreement").is(".Automatic_c_sub_bg_current")){k.Automaticgreement=true}else{k.Automaticgreement=false}});c("business_record").onclick=function(){k.agreement_info("page_record","page_know","page_fuwu","page_Automatic","file/tyb.html")};c("business_know").onclick=function(){k.agreement_info("page_know","page_record","page_fuwu","page_Automatic","file/jjxy.html")};c("business_fuwu").onclick=function(){k.agreement_info("page_fuwu","page_record","page_know","page_Automatic","file/zjtz.html")};c("fat_btn").onclick=function(){back()};e(".business_Automatic").on("click",function(){k.agreement_info("page_Automatic","page_record","page_know","page_fuwu","file/automatic.html")});c("kaitong").onclick=function(){if(k.userInfo.authenStatus=="A02"){config.man.manageMOpenAnAccount.informationVerification()}else{goTo(config.page.kaotongfloat);e("#mask_id").show();document.getElementById("kai_authrity").onclick=function(){App.jumpToRecertify();return};document.getElementById("kai_cancel").onclick=function(){Bestpay.App.jumpToMain();return}}};c("info_confirm").onclick=function(){config.man.manageMOpenAnAccount.gotoOpen()};c("open_sure").onclick=function(){location.reload()};c("open_sure_zhuangru").onclick=function(){i.applyatoneGet="1";i.kaohu_zhuangru_immediately="1";showDialog();e("#jy_btn_show").addClass("cont_btn_gray").removeClass("cont_btn_blue");k.bindCardZhuanru();config.man.otherInterfaces.accountBankInfo()};c("change_over_to").onclick=function(){showDialog();config.TRADE_LIST_QUERY_NUMBER="1";i.applyatoneGet="1";i.kaohu_zhuangru_immediately="0";e("#jy_btn_show").addClass("cont_btn_gray").removeClass("cont_btn_blue");k.bindCardZhuanru();config.man.otherInterfaces.accountBankInfo()};c("goahead_getmoney").onclick=function(){i.applyatoneGet="1";showDialog();e("#jy_btn_show").addClass("cont_btn_gray").removeClass("cont_btn_blue");k.bindCardZhuanru();config.man.otherInterfaces.accountBankInfo()};c("goahead_getmoney_shouzhifour").onclick=function(){i.applyatoneGet="1";showDialog();e("#jy_btn_show").addClass("cont_btn_gray").removeClass("cont_btn_blue");k.bindCardZhuanru();config.man.otherInterfaces.accountBankInfo()};c("roll_out").onclick=function(){i.applyatoneGet="0";config.TRADE_LIST_QUERY_NUMBER="2";showDialog();e("#jf_btn_show").addClass("cont_btn_gray").removeClass("cont_btn_blue");k.bindCardZhuanchu();config.man.otherInterfaces.accountBankInfo()};c("pay_easy_show").onclick=function(){if(config.man.otherInterfaces.zhuangru_true==true){PasswordKeyBoard.initPwdUI3(function(l){config.man.otherInterfaces.getapplyforBuySecretInterface(l)});PasswordKeyBoard.popKeyboardUI3()}};c("zhuangrusuccess_sure").onclick=function(){location.reload()};c("roll_out_jfy").onclick=function(){if(config.man.otherInterfaces.zhuangchu_true==true){PasswordKeyBoard.initPwdUI3(function(l){config.man.otherInterfaces.getatoneForSecretInterface(l)});PasswordKeyBoard.popKeyboardUI3()}};c("roll_out_make_sure").onclick=function(){location.reload()};c("announcement").onclick=function(){config.man.manageMOpenAnAccount.anountcement()};c("btn_shouzhifour_down").onclick=function(){goTo(config.page.id_shouzhifour_show);var l={"转入":"0","转出":"1","消费":"2","收益":"3","自动转入":"7"};config.page.id_shouzhifour_show.prompt_show_back=false;var m=new b.dropDownBox("page_id_shouzhifour_show",this,l,function(o,n){m.hideDropDownBox();k.shouzhifourHTMl=e(n).html();k.shouzhifour=o;e("#btn_shouzhifour_down #zr_span").html(k.shouzhifourHTMl);k.currentPage=1;e("#time_date").empty();e("#change_type").empty();e("#money_balance").empty();e("#type_type").empty();e("#check_text_shouzhi").hide();e(".page_current").hide();e("#shouzhi_null_text").hide();e("#shouyi_null_text").hide();config.man.otherInterfaces.financialRevenueAndExpenditureQuery();back();config.page.id_shouzhifour_show.prompt_show_back=true},function(){m.hideDropDownBox();back();config.page.id_shouzhifour_show.prompt_show_back=true})};c("id_shouyitwo_down").onclick=function(){goTo(config.page.id_shouyitwo_show);var l={"累计收益":"0","近一周收益":"1","万份收益":"2","七日年化收益率":"3"};config.page.id_shouzhifour_show.prompt_show_back=false;var m=new b.dropDownBox("page_id_shouyitwo_show",this,l,function(o,n){m.hideDropDownBox();k.shouyitwoHTMl=e(n).html();k.shouyitwo=o;e("#id_shouyitwo_down #lj_span").html(k.shouyitwoHTMl);if(k.shouyitwo==2||k.shouyitwo==3){e("#get_money").hide();e("#Noget_leiji_page").hide();config.man.otherInterfaces.millionCopiesOfRevenue()}else{if(k.shouyitwo==0){e("#leijyId").text("累计收益(元)")}else{if(k.shouyitwo==1){e("#leijyId").text("近一周收益(元)")}}e("#get_money").hide();e("#Noget_leiji_page").hide();config.man.otherInterfaces.financialIncomeQuery()}back();config.page.id_shouzhifour_show.prompt_show_back=true},function(){m.hideDropDownBox();back();config.page.id_shouzhifour_show.prompt_show_back=true})};e("#page_current_A").on("click",function(){k.currentPage++;config.man.otherInterfaces.financialRevenueAndExpenditureQuery()});var j=e(".cont_btn a,.cont_a_btn a");j.on("touchstart",function(){e(this).addClass("cont_hover")});j.on("touchend touchmove touchcancel",function(){e(this).removeClass("cont_hover")});document.getElementById("netword_failure_img").onclick=function(){console.log("netword_failure_img==ABC==failure");location.reload();console.log("netword_failure_img==ABC==failure1234567")};document.getElementById("contactCustome").onclick=function(){App.jumpToCustomerService()};e(".skillbar").each(function(){e(this).find(".skill-right").animate({width:e(this).attr("data-percent")},1000)});e("#AddAutomaticBtn").on("click",function(){k.AutoSetTing="1";config.man.manageMOpenAnAccount.AutomaticBtnInformation()});e("#cancelautoTurnIn").on("click",function(){k.AutoSetTing="2";config.man.manageMOpenAnAccount.AutomaticBtnInformation()});e("#remindSettingAccount").on("click",function(){k.AutoSetTing="3";config.man.manageMOpenAnAccount.AutomaticBtnInformation()})};d.prototype.agreement_info=function(n,l,k,j,m){goTo(config.page.record_father);var p=c(n);p.innerHTML="";c(l).innerHTML="";c(k).innerHTML="";c(j).innerHTML="";var o=e(p).setTemplateURL(m);o.processTemplate(null)};d.prototype.bindCardZhuanru=function(){var j=i.userInfo.bindCard;if(j=="0"){e("#binding_none").show();e("#zhuangru").hide();e("#jy_btn_show").hide();e("#input-wrap_zru_wrap").hide();e("#rumaxAmount").hide();e("#zhuanruWorkDayAndWorkWeek").hide();c("bind_soon").onclick=function(){App.jumpToBindCard(function(k){if(k=="0"){i.userInfo=JSON.parse(Bestpay.User.getSuccessLoginInfo());j=i.userInfo.bindCard;if(j=="1"){e("#binding_none").hide();e("#zhuangru").show();e("#jy_btn_show").show();e("#rumaxAmount").show();e("#input-wrap_zru_wrap").show();e("#zhuanruWorkDayAndWorkWeek").show();config.man.otherInterfaces.WorkDayAndWorkWeekShow();config.man.otherInterfaces.accountBankInfo()}}})}}else{if(j=="1"){e("#binding_none").hide();e("#zhuangru").show();e("#jy_btn_show").show();e("#rumaxAmount").show();e("#zhuanruWorkDayAndWorkWeek").show();config.man.otherInterfaces.WorkDayAndWorkWeekShow();e("#input-wrap_zru_wrap").show()}}};d.prototype.bindCardZhuanchu=function(){var j=this;var k=i.userInfo.bindCard;if(k=="0"){e("#binding_none_rollout").show();e("#zhuangchu").hide();e("#input-wrap_zchu_wrap").hide();e("#jf_btn_show").hide();e("#chumaxAmount").hide();e(".rmaxbank_span").hide();e("#zhuanchuPayPassword").hide();c("bind_soon_rollout").onclick=function(){App.jumpToBindCard(function(l){if(l=="0"){i.userInfo=JSON.parse(Bestpay.User.getSuccessLoginInfo());k=i.userInfo.bindCard;if(k=="1"){e("#binding_none_rollout").hide();e("#zhuangchu").show();e("#input-wrap_zchu_wrap").show();e("#jf_btn_show").show();e("#chumaxAmount").show();e(".rmaxbank_span").show();config.man.otherInterfaces.accountBankInfo();e("#zhuanchuPayPassword").show();e("#shuhui_tips").html('预计到账时间 <span class="orange">'+a()+"</span>")}}})}}else{if(k=="1"){e("#binding_none_rollout").hide();e("#zhuangchu").show();e("#input-wrap_zchu_wrap").show();e("#jf_btn_show").show();e("#chumaxAmount").show();e(".rmaxbank_span").show();e("#zhuanchuPayPassword").show();e("#shuhui_tips").html('预计到账时间 <span class="orange">'+a()+"</span>")}}};e("#input-wrap_zru_wrap").after("<span class='bank_span'></span>");e("#input-wrap_zchu_wrap").after("<span class='bank_span'></span>");e("#input-wrap_zchu_wrap").before("<span class='rmaxbank_span maxAmountParent'></span>");d.prototype.percenthundred=function(){var j=setInterval(function(){e("#first_anouncement").hide()},10000)};return d});